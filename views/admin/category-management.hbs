{{!-- section-padding-100 --}}


<!-- ##### Main Content Wrapper End ##### -->
{{!-- cart-table-area --}}
<div class="products-catagories-area clearfix">
    <div class="container">
        <div class="row">
            <div class="col-12 col-lg-12 mt-3">
                <div class="container">
                    <div class="row">
                        <a href="/admin/category-offers" class="btn btn-dark ml-auto mb-4" style="width: 130px;">Category Offer</a>
                        <a href="/admin/add-category" class="btn btn-dark ml-3 mb-4" style="width: 130px;">Add Category</a>
                    </div>
                <div class="input-group mb-3">
                    <button type="button" class="btn btn-warning">
                        <i class="fa fa-search"></i>
                    </button>
                    <div class="form-outline w-50">
                        <input type="search" id="myInput" class="form-control border-warning" placeholder="search.." />
                    </div>
                     <nav class="ml-auto" aria-label="...">
                    <ul class="pagination">
                        <li class="page-item active"><a class="page-link" href="/admin/category-management">1</a></li>
                        <li class="page-item">
                        <a class="page-link" href="/admin/category-management/20">2 <span class="sr-only">(current)</span></a>
                        </li>
                        <li class="page-item"><a class="page-link" href="/admin/category-management/30">3</a></li>
                        <li class="page-item">
                        <a class="page-link" href="/admin/category-management/40">Next</a>
                        </li>
                    </ul>
                </nav>
                </div>
                </div>
                {{!-- {{#if allCategory}} --}}
                <div style="overflow-x: scroll;">
                <table class="table" id="viewusers">
                    <thead>
                        <tr class="bg-warning">
                            <th scope="col">No</th>
                            <th scope="col">Category Name</th>
                            {{!-- <th scope="col">Brand Name</th> --}}
                            <th scope="col">Edit Category</th>
                            <th scope="col">Delete Category</th>
                        </tr>
                    </thead>
                    <tbody id="myTable">
                        {{#each allCategory}}
                        <tr>
                        <th scope="row" class="fs-bold">{{inc @index}}</th>
                        <td>{{this.category}}</td>
                        {{!-- <td>{{this.brandname}}</td> --}}
                        <td class="pl-5"><a href="/admin/edit-category/{{this._id}}"><i class="fa fa-pencil-square-o fa-3x text-secondary"  aria-hidden="true"></i></a></td>
                        <td class="pl-5"><a href="/admin/delete-category/{{this._id}}"  onclick="deleteCategory(event)"><i class="fa fa-trash fa-3x text-secondary"  aria-hidden="true"></i></a></td>
                        </tr>
                        {{/each}}
                    </tbody>
                </table>
                </div>
                {{!-- {{else}}
                <div class="container-fluid">
                    <div class="row">
                        <div class="d-flex justify-content-center col-12 col-md-12">
                            <img class=" img-fluid" src="/img/bg-img/empty-category.png" alt="">
                        </div>
                        <div class="d-flex justify-content-center col-md-12">
                            <a href="/shop" class="btn amado-btn text-center" style="">Go
                                To Shop</a>
                        </div>
                    </div>
                </div>
                {{/if}} --}}
            </div>
        </div>
    </div>
</div>

{{!-- search bar script --}}
<script>
$(document).ready(function(){
  $("#myInput").on("keyup", function() {
    var value = $(this).val().toLowerCase();
    $("#myTable tr").filter(function() {
      $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
    });
  });
});
</script>
{{!-- data table script --}}
{{!-- <script>
    $(document).ready( function () {
        $.noConflict();
    $('#viewusers').DataTable();
} );
</script> --}}
<script>
    function deleteCategory(event) {
    event.preventDefault();
    var link = event.currentTarget.href;
    
    Swal.fire({
        title: 'Are you sure?',
        text: "Do you want to Delete this Category ",
        icon: 'warning',
        showCancelButton: true,
        confirmButtonColor: '#3085d6',
        cancelButtonColor: '#d33',
        confirmButtonText: 'Yes'
    }).then((result) => {
        if (result.isConfirmed) {
            Swal.fire(
                'Deleted!',
                'Category  Deleted.',
                'success'
            ).then(()=>{
            window.location = link;
            })
        }
        else {
            return false;
        }
    })
}
</script>
